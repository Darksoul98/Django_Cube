
## Django
#### Pointers
- If you have mysql service running please stop. 
- Run migrate command to create tables in the mysql container

|       Endpoints    |Method          |
|-------------------|-----------------|
|/api/v1/event      |POST             |

- Example input JSON 

Bill Pay event - 
```bash
{
    "noun": "bill",
    "userid": 178766,
    "ts": "20170315 134850",
    "latlong": "19.07,72.87",
    "verb": "pay",
    "timespent": 72,
    "properties": {
        "bank": "hdfc",
        "merchantid": 234,
        "value": 139000.5,
        "mode": "netbank"
    }
}
```

Feedback event - 
```bash
{
    "noun": "fdbk",
    "userid": 178766,
    "ts": "20170315 135250",
    "latlong": "19.07,72.87",
    "verb": "post",
    "timespent": null,
    "properties": {
        "text": "the bank page took too long to load"
    }
}
```
## Docker

### Build
```bash
sudo docker-compose build
```
### Run
```bash
sudo docker-compose up -d
```
### Run migrations
```bash
sudo docker-compose up -d
```
### Run migrations
```bash
sudo docker-compose up -d
```
### To tail logs generated by the API

```bash
sudo docker exec -it [CONTAINER] bash
```
```bash
tail -f src/notifications.log
```

[http://0.0.0.0:8000](http://0.0.0.0:8000)
